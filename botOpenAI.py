import telebot
import openai
from telebot import types
import random

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤ –¥–ª—è Telegram —Ç–∞ OpenAI
TELEGRAM_API_KEY = '5646599316:AAFVGWqEAgPmlvpUByhFwmbDjB-1UFY7LWY'
OPENAI_API_KEY = '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'

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–æ—Ç–∞ Telegram
bot = telebot.TeleBot(TELEGRAM_API_KEY)

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É

@bot.message_handler(commands=['start'])
def message_handler_start(message):
    # –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ñ—É–Ω–∫—Ü—ñ—ó format()
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    item1 = types.KeyboardButton('–í–∏–ø–∞–¥–∫–æ–≤–µ —á–∏—Å–ª–æ üé≤')
    item2 = types.KeyboardButton('–†–æ–∑–∫–ª–∞–¥ –ø–∞—Ä')
    item3 = types.KeyboardButton('–ö–æ–Ω—Ç–∞–∫—Ç–∏ –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤')
    item4 = types.KeyboardButton('–ê—É–¥–∏—Ç–æ—Ä—ñ—ó')
    item5 = types.KeyboardButton('–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤')
    markup.add(item1, item2,item3, item4, item5)
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤—ñ—Ç\n{0.first_name}!\n–Ø –±–æ—Ç, —è–∫–∏–π –º–æ–∂–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ —Ç–≤–æ—ó –∑–∞–ø–∏—Ç–∞–Ω–Ω—è. –©–æ –± —Ç–∏ —Ö–æ—Ç—ñ–≤(-–ª–∞) –∑–Ω–∞—Ç–∏?\n–•–æ—á–µ—à –∑—ñ –º–Ω–æ—é –ø–æ—Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –Ω–∞–ø–∏—à–∏ –º–µ–Ω—ñ @fiz_matbot.".format(message.from_user), reply_markup=markup)

@bot.message_handler(content_types=['text'])
def bot_message(message):
    if message.chat.type == 'private':
        if message.text == '–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤':
            bot.send_message(message.chat.id, '–ó–∞—Å–Ω–æ–≤–Ω–∏–∫ @yura_krykh\n–ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–¥–µ—Ä —Ç–∞–∫–æ–∂ –≤—ñ–Ω')
        elif message.text == '–†–æ–∑–∫–ª–∞–¥ –ø–∞—Ä':
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            COIM_23 = types.KeyboardButton('COIM-23')
            COFA_25 = types.KeyboardButton('–°–û–§–ê-25')
            back = types.KeyboardButton('üîô–ù–∞–∑–∞–¥')
            markup.add(COIM_23, COFA_25, back)
            bot.send_message(message.chat.id, '–í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à—É –≥—Ä—É–ø—É:', reply_markup = markup)
        elif message.text in ['COIM-23', '–°–û–§–ê-25']:
            group = message.text  # –û–Ω–æ–≤–ª—é—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó group –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≤–∏–±—Ä–∞–Ω–æ—ó –≥—Ä—É–ø–∏
            if group == 'COIM-23':
                schedule = "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫:\n8:00-9:20 1. –ê–Ω–∞–ª—ñ–∑ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤\n9:35-10:55 2. –ê–Ω–∞–ª—ñ–∑ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤\n11:10-12:30 3. –Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞\n12:45-14:05 4. –§—ñ–∑–∏—á–Ω–µ –≤–∏—Ö–æ–≤–∞–Ω–Ω—è\n\n–í—ñ–≤—Ç–æ—Ä–æ–∫:\n8:00-9:20 1. -\n9:35-10:55 2. –î–∏—Å–∫—Ä–µ—Ç–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞\n11:10-12:30 3. –î–∏—Å–∫—Ä–µ—Ç–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞\n12:45-14:05 4. –û—Å–Ω–æ–≤–∏ —Ç–µ–æ—Ä—ñ—ó –≥—Ä–∞—Ñ—ñ–≤\n\n–°–µ—Ä–µ–¥–∞:\n8:00-9:20 1. –ö–æ–º–ø'—é—Ç–µ—Ä–Ω—ñ –º–µ—Ä–µ–∂—ñ\n9:35-10:55 2. –ö–æ–º–ø'—é—Ç–µ—Ä–Ω—ñ –º–µ—Ä–µ–∂—ñ\n11:10-12:30 3. –ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –≥—Ä–∞—Ñ—ñ–∫–∞\n12:45-14:05 4. –ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –≥—Ä–∞—Ñ—ñ–∫–∞\n\n–ß–µ—Ç–≤–µ—Ä:\n8:00-9:20 1. –ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞\n9:35-10:55 2. –ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞\n11:10-12:30 3. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è\n12:45-14:05 4. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è\n\n–ü'—è—Ç–Ω–∏—Ü—è:\n8:00-9:20 1. –î–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è\n9:35-10:55 2. –î–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è\n11:10-12:30 3. –ï—Ç–∏–∫–∞ —ñ –µ—Å—Ç–µ—Ç–∏–∫–∞\n12:45-14:05 4. –ï—Ç–∏–∫–∞ —ñ –µ—Å—Ç–µ—Ç–∏–∫–∞"
                bot.send_message(message.chat.id, '–†–æ–∑–∫–ª–∞–¥ –ø–∞—Ä –¥–ª—è –≥—Ä—É–ø–∏ ' + group + ':\n\n' + schedule)
            elif group == '–°–û–§–ê-25':
                schedule = "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫:\n8:00-9:20 1. –ï–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞ —Ñ—ñ–∑–∏–∫–∞ \n9:35-10:55 2. –ï–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞ —Ñ—ñ–∑–∏–∫–∞\n11:10-12:30 3. –§—ñ–∑–∏—á–Ω–µ –≤–∏—Ö–æ–≤–∞–Ω–Ω—è \n12:45-14:05 4. -\n–í—ñ–≤—Ç–æ—Ä–æ–∫:\n8:00-9:20 1. –ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –∫—É—Ä—Å –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏\n9:35-10:55 2. –ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –∫—É—Ä—Å –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏\n11:10-12:30 3. -\n12:45-14:05 4. -\n–°–µ—Ä–µ–¥–∞:\n8:00-9:20 1.  –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –≥—Ä–∞–º–∞—Ç–∏–∫–∞ —ñ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ñ–æ–Ω–µ—Ç–∏–∫–∞)\n9:35-10:55 2. –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –≥—Ä–∞–º–∞—Ç–∏–∫–∞ —ñ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ñ–æ–Ω–µ—Ç–∏–∫–∞\n11:10-12:30 3. –ó–∞–≥–∞–ª—å–Ω–∞ —Ñ—ñ–∑–∏–∫–∞\n12:45-14:05 4. -\n–ß–µ—Ç–≤–µ—Ä:\n8:00-9:20 1.  –ó–∞–≥–∞–ª—å–Ω–∞ —Ñ—ñ–∑–∏–∫–∞\n9:35-10:55 2.  –ü–†–§–ó\n11:10-12:30 3.  –¶–∏—Ñ—Ä–æ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –≤ –æ—Å–≤—ñ—Ç–Ω—å–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ\n12:45-14:05 4.  –¶–∏—Ñ—Ä–æ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –≤ –æ—Å–≤—ñ—Ç–Ω—å–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ \n–ü‚Äô—è—Ç–Ω–∏—Ü—è:\n8:00-9:20 1.  –ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏\n9:35-10:55 2.  –ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏\n11:10-12:30 3.  –û—Å–Ω–æ–≤–∏ –ø—Ä–∞–≤–∞\n12:45-14:05 4. -"
                bot.send_message(message.chat.id, '–†–æ–∑–∫–ª–∞–¥ –ø–∞—Ä –¥–ª—è –≥—Ä—É–ø–∏ ' + group + ':\n\n' + schedule)

        elif message.text == 'üîô–ù–∞–∑–∞–¥':
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            item1 = types.KeyboardButton('–í–∏–ø–∞–¥–∫–æ–≤–µ —á–∏—Å–ª–æ üé≤')
            item2 = types.KeyboardButton('–†–æ–∑–∫–ª–∞–¥ –ø–∞—Ä')
            item3 = types.KeyboardButton('–ö–æ–Ω—Ç–∞–∫—Ç–∏ –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤')
            item4 = types.KeyboardButton('–ê—É–¥–∏—Ç–æ—Ä—ñ—ó')
            item5 = types.KeyboardButton('–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤')
            markup.add(item1, item2, item3, item4, item5)
            bot.send_message(message.chat.id,"üëá".format(message.from_user), reply_markup=markup)
# –û–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥–∏ /support
@bot.message_handler(commands=['support'])
def _support_(message):
    # –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
    bot.send_message(message.chat.id, '–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –æ–ø–∏—à—ñ—Ç—å –ø—Ä–æ–±–ª–µ–º—É —ñ –∑ –≤–∞–º–∏ –∑–≤\'—è–∂–µ—Ç—å—Å—è —Å–ª—É–∂–±–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.')
    bot.send_message(628446966, f'–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–≤–µ—Ä–Ω—É–≤—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:\n–ê–π–¥—ñ: {message.chat.id}\n–ù—ñ–∫: {message.chat.username}\n–¢–µ–∫—Å—Ç: {message.text}')


@bot.message_handler(commands=['yura'])
def _yura(message):
    # –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    send_text_reply(message.chat.id, "–ù–∞–π—Å–µ–∫—Å—É–∞–ª—å–Ω—ñ—à–∏–π —á–æ–ª–æ–≤—ñ–∫ –Ω–∞ —Ü—ñ–π –ø–ª–∞–Ω–µ—Ç—ñ")

# –û–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ–π –≤—ñ–¥ –±–æ—Ç–∞ Telegram


bot.polling(none_stop=True)
